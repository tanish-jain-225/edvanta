# ============================================================================
# EDVANTA BACKEND ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and configure with your actual credentials
#
# PRIORITY LEVELS:
# 游댮 CRITICAL - Required for core functionality
# 游리 IMPORTANT - Required for specific features
# 游릭 OPTIONAL - Enhanced features, has fallbacks
#
# Setup Time Estimate: 30-45 minutes
# ============================================================================

# ----------------------------------------------------------------------------
# 游댮 FLASK CORE SETTINGS (CRITICAL - Required)
# ----------------------------------------------------------------------------
FLASK_ENV=development                    # Options: development | production
SECRET_KEY=your-secret-key-change-this   # IMPORTANT: Use strong random string in production
PORT=5000                                # Default: 5000
HOST=0.0.0.0                            # 0.0.0.0 for all interfaces, 127.0.0.1 for localhost only

# ----------------------------------------------------------------------------
# 游댮 MONGODB DATABASE (CRITICAL - Required)
# ----------------------------------------------------------------------------
# All core features require MongoDB
# Setup: https://www.mongodb.com/cloud/atlas (Free tier available)
# Time: 5-10 minutes

MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
# Examples:
#   Atlas: mongodb+srv://user:pass@cluster0.abcde.mongodb.net/
#   Local: mongodb://localhost:27017/

MONGODB_DB_NAME=edvanta

# Collection names (use defaults or customize)
MONGODB_QUIZ_COLLECTION=quizzes
MONGODB_QUIZ_HISTORY_COLLECTION=quiz_history
MONGODB_CHAT_COLLECTION=chat_sessions
MONGODB_VOICE_CHAT_COLLECTION=voice_chats
MONGODB_ACTIVE_SESSIONS_COLLECTION=active_sessions
MONGODB_ROADMAP_COLLECTION=roadmaps

# ----------------------------------------------------------------------------
# 游리 GOOGLE GEMINI AI API (IMPORTANT - For AI Features)
# ----------------------------------------------------------------------------
# Required for: Chatbot, Roadmap Generation, Quiz Generation, Tutor, Visual Analysis
# Without this: AI features will use fallback responses (limited functionality)
# Setup: https://makersuite.google.com/app/apikey
# Time: 2 minutes
#
# Steps:
# 1. Go to https://makersuite.google.com/app/apikey
# 2. Click "Create API Key"
# 3. Copy the API key (starts with "AIza")
#
# Cost: Free tier: 15 requests per minute, 1500 requests per day
#       Paid tier: $0.001 per 1K characters input, $0.002 per 1K characters output

GEMINI_API_KEY=AIza...your-gemini-api-key...

# AI Model Parameters (Fine-tune responses)
GEMINI_TEMPERATURE=0.7        # 0.0-1.0: Lower = more focused, Higher = more creative
GEMINI_TOP_P=0.95            # 0.0-1.0: Nucleus sampling threshold
GEMINI_TOP_K=40              # Top K tokens to consider
GEMINI_MAX_OUTPUT_TOKENS=1024 # Max response length

# Model name (default: gemini-2.5-flash)
GEMINI_MODEL_NAME=gemini-2.5-flash

# ----------------------------------------------------------------------------
# 游릭 ALTERNATIVE AI APIS (OPTIONAL - Additional AI Providers)
# ----------------------------------------------------------------------------
# OpenAI: https://platform.openai.com/api-keys
# Can be used for specialized tasks or as fallback

OPENAI_API_KEY=sk-...your-openai-key...     # Optional: For specialized AI tasks

# ----------------------------------------------------------------------------
# 游릭 CLOUDINARY (OPTIONAL - For File Storage & Image Processing)
# ----------------------------------------------------------------------------
# Required for: Resume uploads, visual generation, image processing
# Without this: File upload features won't work
# Setup: https://cloudinary.com/ (Free tier: 25 GB storage, 25 GB bandwidth)
# Time: 5 minutes
#
# Steps:
# 1. Sign up at cloudinary.com
# 2. Go to Dashboard
# 3. Copy Cloud Name, API Key, API Secret

# Standard naming (recommended)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# Legacy naming (for compatibility)
CLOUD_NAME=your-cloud-name
CLOUDINARY_APIKEY=your-cloudinary-api-key
CLOUDINARY_SECRET=your-cloudinary-api-secret
CLOUDINARY_APIENV=cloudinary://your-api-key:your-api-secret@your-cloud-name

# ----------------------------------------------------------------------------
# 游릭 CORS SETTINGS (OPTIONAL - Default allows all)
# ----------------------------------------------------------------------------
# Configure allowed origins for CORS
# Examples:
#   Allow all: *
#   Specific: http://localhost:3000,https://yourdomain.com
#   Multiple: http://localhost:3000,http://localhost:5173,https://app.yourdomain.com

ALLOWED_ORIGINS=*

# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# Issue: "429 Rate Limit Exceeded"
# Solution: Gemini API free tier has limits (15 requests/min, 1500/day)
#           Wait for quota reset or upgrade to paid tier
#           Implement rate limiting in production
#
# Issue: "Gemini API key not configured"
# Solution: Check GEMINI_API_KEY is set in .env file
#           Get new key from https://makersuite.google.com/app/apikey
#
# Issue: "Connection refused" to MongoDB  
# Solution: Check MONGODB_URI is correct
#           Verify network access in MongoDB Atlas (allow your IP)
#           Check database user credentials
#
# Issue: "Cloudinary upload failed"
# Solution: Verify all three credentials (cloud_name, api_key, api_secret)
#           Check if you've exceeded free tier limits
#
# Run diagnostics: python diagnostic.py
# Run tests: python test_server.py
# List endpoints: python list_endpoints.py
#
# ============================================================================
