# ============================================================================
# EDVANTA BACKEND ENVIRONMENT VARIABLES - UNIVERSAL DEPLOYMENT
# ============================================================================
# Copy this file to .env and configure with your actual credentials
#
# üåü NEW: ZERO-CONFIGURATION DEPLOYMENT!
# Your server now auto-adapts to ANY platform without manual setup:
# ‚úÖ Vercel, AWS Lambda, Heroku, Google Cloud, Netlify, Local, etc.
#
# PRIORITY LEVELS:
# üî¥ CRITICAL - Required for core functionality
# üü° IMPORTANT - Required for specific features  
# üü¢ OPTIONAL - Enhanced features, has fallbacks
#
# ‚è±Ô∏è Setup Time: 5-30 minutes (depending on desired features)
# ============================================================================

# ----------------------------------------------------------------------------
# üü¢ FLASK CORE SETTINGS (AUTO-CONFIGURED - Optional Override)
# ----------------------------------------------------------------------------
# üöÄ NEW: Environment auto-detected! No manual setup needed!
# - Production mode: Auto-enabled on Vercel, AWS Lambda, Heroku, etc.
# - Development mode: Auto-enabled for local development
# - Debug mode: Automatically disabled in production
#
# Optional overrides (only set if you need specific behavior):

# FLASK_ENV=production                   # Override auto-detection (development|production)
SECRET_KEY=your-secret-key-change-this   # IMPORTANT: Use strong random string in production
# PORT=5000                              # Optional: Override default port
# HOST=0.0.0.0                          # Optional: Override default host

# ----------------------------------------------------------------------------
# üü° MONGODB DATABASE (IMPORTANT - Required for full functionality)
# ----------------------------------------------------------------------------
# üöÄ NEW: Multiple connection string formats supported!
# The server now accepts any of these environment variable names:
# - MONGODB_URI (recommended)
# - MONGO_URI (alternative)
# - DATABASE_URL (platform standard)
#
# Setup: https://www.mongodb.com/cloud/atlas (Free tier available)
# Time: 5-10 minutes

MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
# Alternative names also work:
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/
# DATABASE_URL=mongodb+srv://username:password@cluster.mongodb.net/

# Examples:
#   Atlas: mongodb+srv://user:pass@cluster0.abcde.mongodb.net/
#   Local: mongodb://localhost:27017/
#   Railway: Use their DATABASE_URL variable

MONGODB_DB_NAME=edvanta

# Collection names (use defaults or customize)
MONGODB_QUIZ_COLLECTION=quizzes
MONGODB_QUIZ_HISTORY_COLLECTION=quiz_history
MONGODB_CHAT_COLLECTION=chat_sessions
MONGODB_VOICE_CHAT_COLLECTION=voice_chats
MONGODB_ACTIVE_SESSIONS_COLLECTION=active_sessions
MONGODB_ROADMAP_COLLECTION=roadmaps

# ----------------------------------------------------------------------------
# üü° GOOGLE GEMINI AI API (IMPORTANT - For AI Features)
# ----------------------------------------------------------------------------
# Required for: Chatbot, Roadmap Generation, Quiz Generation, Tutor
# üöÄ NEW: Graceful fallback! App works without this but with limited AI features
# Without this: AI features use fallback responses, basic functionality maintained
# 
# Setup: https://makersuite.google.com/app/apikey
# Time: 2 minutes
#
# üöÄ NEW: Multiple API key names supported!
# Use either GEMINI_API_KEY or GOOGLE_API_KEY
#
# Steps:
# 1. Go to https://makersuite.google.com/app/apikey
# 2. Click "Create API Key"
# 3. Copy the API key (starts with "AIza")
#
# Cost: Free tier: 15 requests per minute, 1500 requests per day
#       Paid tier: $0.001 per 1K characters input, $0.002 per 1K characters output

GEMINI_API_KEY=AIza...your-gemini-api-key...
# Alternative name also works:
# GOOGLE_API_KEY=AIza...your-gemini-api-key...

# AI Model Parameters (Fine-tune responses)
GEMINI_TEMPERATURE=0.7        # 0.0-1.0: Lower = more focused, Higher = more creative
GEMINI_TOP_P=0.95            # 0.0-1.0: Nucleus sampling threshold
GEMINI_TOP_K=40              # Top K tokens to consider
GEMINI_MAX_OUTPUT_TOKENS=1024 # Max response length

# Model name (default: gemini-2.5-flash)
GEMINI_MODEL_NAME=gemini-2.5-flash

# ----------------------------------------------------------------------------
# üü¢ ALTERNATIVE AI APIS (OPTIONAL - Additional AI Providers)
# ----------------------------------------------------------------------------
# OpenAI: https://platform.openai.com/api-keys
# Can be used for specialized tasks or as fallback

OPENAI_API_KEY=sk-...your-openai-key...     # Optional: For specialized AI tasks

# ----------------------------------------------------------------------------
# üü¢ CLOUDINARY (OPTIONAL - For File Storage & Image Processing)
# ----------------------------------------------------------------------------
# Required for: Resume uploads, image processing
# üöÄ NEW: Multiple naming conventions supported!
# Without this: File upload features disabled gracefully
# Setup: https://cloudinary.com/ (Free tier: 25 GB storage, 25 GB bandwidth)
# Time: 5 minutes
#
# Steps:
# 1. Sign up at cloudinary.com
# 2. Go to Dashboard  
# 3. Copy Cloud Name, API Key, API Secret

# Standard naming (recommended) - any of these work:
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# Legacy naming (automatically detected for compatibility):
# CLOUD_NAME=your-cloud-name
# CLOUDINARY_APIKEY=your-cloudinary-api-key  
# CLOUDINARY_SECRET=your-cloudinary-api-secret
# CLOUDINARY_APIENV=cloudinary://your-api-key:your-api-secret@your-cloud-name

# ----------------------------------------------------------------------------
# üü¢ CORS SETTINGS (OPTIONAL - Default allows all)
# ----------------------------------------------------------------------------
# Configure allowed origins for CORS
# Examples:
#   Allow all: *
#   Specific: http://localhost:3000,https://yourdomain.com
#   Multiple: http://localhost:3000,http://localhost:5173,https://app.yourdomain.com

ALLOWED_ORIGINS=*

# ============================================================================
# TROUBLESHOOTING & DEPLOYMENT
# ============================================================================
#
# üöÄ UNIVERSAL DEPLOYMENT - Your server now works ANYWHERE!
# 
# Supported Platforms (zero configuration needed):
# ‚Ä¢ Vercel: vercel --prod (auto-detects production mode)
# ‚Ä¢ AWS Lambda: Use Serverless Framework (auto-optimizes)
# ‚Ä¢ Heroku: git push heroku main (auto-detects dynos)
# ‚Ä¢ Google Cloud: gcloud app deploy (auto-configures)
# ‚Ä¢ Netlify: Works with Netlify Functions
# ‚Ä¢ Railway: Plug and play compatibility
# ‚Ä¢ Local: python index.py (auto-detects development)
#
# Environment Auto-Detection:
# ‚úÖ Production mode: Automatically enabled on cloud platforms
# ‚úÖ Development mode: Automatically enabled locally
# ‚úÖ Debug mode: Automatically disabled in production
# ‚úÖ CORS: Optimized for cross-platform compatibility
#
# Common Issues:
#
# Issue: "429 Rate Limit Exceeded"
# Solution: Gemini API free tier has limits (15 requests/min, 1500/day)
#           Wait for quota reset or upgrade to paid tier
#           Implement rate limiting in production
#
# Issue: "Gemini API key not configured"
# Solution: Set GEMINI_API_KEY or GOOGLE_API_KEY in environment
#           Get new key from https://makersuite.google.com/app/apikey
#           App continues to work with limited AI features
#
# Issue: "Connection refused" to MongoDB  
# Solution: Check MONGODB_URI, MONGO_URI, or DATABASE_URL is correct
#           Verify network access in MongoDB Atlas (allow your IP)
#           Check database user credentials
#
# Issue: "Cloudinary upload failed"
# Solution: Verify credentials (supports multiple naming conventions)
#           Check if you've exceeded free tier limits
#           File uploads gracefully disabled if not configured
#
# Health Check Endpoints:
# ‚Ä¢ GET / - Basic health check with environment info
# ‚Ä¢ GET /api/runtime-features - Detailed feature and configuration status
#
# Run deployment check: python deployment_check.py
# ============================================================================
